<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <script src="scripts.js"></script>
    <title>Calculator</title>
</head>

<body>
    <div class="page">
        <div class="calculator">
            <div class="numScreen" id="numScreen">

            </div>
            <div class="buttons">
                <button class="button" id="mPlus">
                    m+
                </button>
                <button class="button" id="mc">
                    mc
                </button>
                <button class="button" id="clear">
                    c
                </button>
                <button class="button" id="delete">
                    del
                </button>
                <button class="button" id="num7">
                    7
                </button>
                <button class="button" id="num8">
                    8
                </button>
                <button class="button" id="num9">
                    9
                </button>
                <button class="button" id="divide">
                    /
                </button>
                <button class="button" id="num4">
                    4
                </button>
                <button class="button" id="num5">
                    5
                </button>
                <button class="button" id="num6">
                    6
                </button>
                <button class="button" id="mult">
                    *
                </button>
                <button class="button" id="num1">
                    1
                </button>
                <button class="button" id="num2">
                    2
                </button>
                <button class="button" id="num3">
                    3
                </button>
                <button class="button" id="minus">
                    -
                </button>
                <button class="button" id="num0">
                    0
                </button>
                <button class="button" id="dot">
                    .
                </button>
                <button class="button" id="plus">
                    +
                </button>
                <button class="button" id="equals">
                    =
                </button>
            </div>

        </div>

    </div>
    <script>
        var eval1 = "";
        var eval2 = "";
        var first = true;
        var showMem = false;
        var operation = "";
        var mem = 0;
        const button7 = document.querySelector('#num7');
        const button8 = document.querySelector('#num8');
        const button9 = document.querySelector('#num9');
        const divButton = document.querySelector('#divide');
        const button4 = document.querySelector('#num4');
        const button5 = document.querySelector('#num5');
        const button6 = document.querySelector('#num6');
        const multButton = document.querySelector('#mult');
        const button1 = document.querySelector('#num1');
        const button2 = document.querySelector('#num2');
        const button3 = document.querySelector('#num3');
        const subButton = document.querySelector('#minus');
        const button0 = document.querySelector('#num0');
        const dot = document.querySelector('#dot');
        const addButton = document.querySelector('#plus');
        const equals = document.querySelector('#equals');
        const memPlus = document.querySelector('#mPlus');
        const memClear = document.querySelector('#mc');
        const clearButton = document.querySelector('#clear');
        const delButton = document.querySelector('#delete');
        button7.addEventListener('click', () => {
            if (first) {
                if (eval1.length < 15) {
                    eval1 += "7";
                }
                setScreen(eval1);
            }
            else {
                if (eval2.length < 15) {
                    eval2 += "7";
                }
                setScreen(eval2);
            }

        });
        button8.addEventListener('click', () => {
            if (first) {
                if (eval1.length < 15) {
                    eval1 += "8";
                }
                setScreen(eval1);
            }
            else {
                if (eval2.length < 15) {
                    eval2 += "8";
                }
                setScreen(eval2);
            }
        });
        button9.addEventListener('click', () => {
            if (first) {
                if (eval1.length < 15) {
                    eval1 += "9";
                }
                setScreen(eval1);
            }
            else {
                if (eval2.length < 15) {
                    eval2 += "9";
                }
                setScreen(eval2);
            }
        });
        button4.addEventListener('click', () => {
            if (first) {
                if (eval1.length < 15) {
                    eval1 += "4";
                }
                setScreen(eval1);
            }
            else {
                if (eval2.length < 15) {
                    eval2 += "4";
                }
                setScreen(eval2);
            }
        });
        button5.addEventListener('click', () => {
            if (first) {
                if (eval1.length < 15) {
                    eval1 += "5";
                }
                setScreen(eval1);
            }
            else {
                if (eval2.length < 15) {
                    eval2 += "5";
                }
                setScreen(eval2);
            }
        });
        button6.addEventListener('click', () => {
            if (first) {
                if (eval1.length < 15) {
                    eval1 += "6";
                }
                setScreen(eval1);
            }
            else {
                if (eval2.length < 15) {
                    eval2 += "6";
                }
                setScreen(eval2);
            }
        });
        button1.addEventListener('click', () => {
            if (first) {
                if (eval1.length < 15) {
                    eval1 += "1";
                }
                setScreen(eval1);
            }
            else {
                if (eval2.length < 15) {
                    eval2 += "1";
                }
                setScreen(eval2);
            }
        });
        button2.addEventListener('click', () => {
            if (first) {
                if (eval1.length < 15) {
                    eval1 += "2";
                }
                setScreen(eval1);
            }
            else {
                if (eval2.length < 15) {
                    eval2 += "2";
                }
                setScreen(eval2);
            }
        });
        button3.addEventListener('click', () => {
            if (first) {
                if (eval1.length < 15) {
                    eval1 += "3";
                }
                setScreen(eval1);
            }
            else {
                if (eval2.length < 15) {
                    eval2 += "3";
                }
                setScreen(eval2);
            }
        });
        button0.addEventListener('click', () => {
            if (first) {
                if (eval1.length < 15) {
                    eval1 += "0";
                }
                setScreen(eval1);
            }
            else {
                if (eval2.length < 15) {
                    eval2 += "0";
                }
                setScreen(eval2);
            }
        });
        dot.addEventListener('click', () => {
            if (first) {
                if ((eval1.length < 15) && (!eval1.includes("."))) {
                    eval1 += ".";
                }
                setScreen(eval1);
            }
            else {
                if ((eval2.length < 15) && (!eval2.includes("."))) {
                    eval2 += ".";
                }
                setScreen(eval2);
            }
        });
        addButton.addEventListener('click', () => {

            if (!first) {
                eval1 = operate(eval1, eval2, operation);
                setScreen(eval1);
                first = true;
            }

            eval2 = "";
            first = false;
            operation = "+";
        });
        subButton.addEventListener('click', () => {

            if (!first) {
                eval1 = operate(eval1, eval2, operation);
                setScreen(eval1);
                first = true;
            }

            eval2 = "";
            first = false;
            operation = "-";
        });
        equals.addEventListener('click', () => {
            if (!((eval1 == "") || (eval2 == ""))) {
                eval1 = operate(eval1, eval2, operation);
                setScreen(eval1);
                first = true;
            }

        });
        multButton.addEventListener('click', () => {

            if (!first) {
                eval1 = operate(eval1, eval2, operation);
                setScreen(eval1);
                first = true;
            }

            eval2 = "";
            first = false;
            operation = "*";
        });
        divButton.addEventListener('click', () => {

            if (!first) {
                eval1 = operate(eval1, eval2, operation);
                setScreen(eval1);
                first = true;
            }

            eval2 = "";
            first = false;
            operation = "/";
        });
        memPlus.addEventListener('click', () => {
            mem += parseFloat(eval1);
        });
        memClear.addEventListener('click', () => {
            if (!showMem) {
                eval1 = mem;
                eval2 = "";
                first = true;
                operation = "";
                showMem = true;
                setScreen(mem);
            }
            else {
                eval1 = "";
                eval2 = "";
                first = true;
                operation = "";
                mem = 0;
                setScreen("");
                showMem = false;
            }

        });
        clearButton.addEventListener('click', () => {
            eval1 = "";
            eval2 = "";
            first = true;
            showMem = false;
            operation = "";
            setScreen("");
        });
        delButton.addEventListener('click', () => {

        });
    </script>
</body>

</html>